<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>QUIZ - ras-cal.com</title>
<link rel="icon" type="image/svg+xml" href="/favicon.svg">

<style>
  html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: black;
    overflow: hidden;
    font-family: "Arial Rounded MT Bold", Arial, sans-serif;
  }

  #pdf-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
  }

  #pdf-canvas {
    position: absolute;
    display: block;
  }

  .annotationLayer {
    position: absolute;
    pointer-events: auto;
  }

  .annotationLayer a {
    position: absolute;
    display: block;
  }

  /* ---------------- BACK ARROW ---------------- */
  .back-arrow {
    position: absolute;
    top: 18px;
    left: 18px;
    z-index: 30;

    font-size: 26px;
    color: #ff69b4;
    text-decoration: none;

    background: white;
    border: 2px solid #ff69b4;
    padding: 6px 12px;
    border-radius: 999px;

    box-shadow: 0 6px 0 #ff69b4;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .back-arrow:hover {
    transform: translateY(2px);
    box-shadow: 0 3px 0 #ff69b4;
  }

  /* ---------------- FORM ---------------- */
  .pdf-form {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

    background: linear-gradient(180deg, #fff 0%, #ffe6f2 100%);
    padding: 22px 24px 24px;
    border-radius: 18px;

    border: 3px solid hotpink;
    box-shadow:
      0 14px 30px rgba(0,0,0,0.4),
      inset 0 0 0 4px white;

    z-index: 20;
    width: 280px;
    text-align: center;
  }

  .pdf-form h1 {
    margin: 0 0 6px;
    font-size: 18px;
    color: hotpink;
    letter-spacing: 1px;
  }

  .pdf-form h3 {
    margin: 0 0 14px;
    font-size: 16px;
    color: #111;
  }

  .pdf-form .inputs {
    display: flex;
    gap: 10px;
    margin-bottom: 14px;
  }

  .pdf-form input {
    flex: 1;
    padding: 8px 6px;
    border-radius: 10px;
    border: 2px solid hotpink;
    font-size: 14px;
    text-align: center;
  }

  .pdf-form input:focus {
    outline: none;
    box-shadow: 0 0 0 2px #ffd1ea;
  }

  .pdf-form button {
    width: 100%;
    padding: 10px 0;
    font-size: 15px;
    font-weight: bold;
    color: white;

    background: hotpink;
    border: none;
    border-radius: 999px;
    cursor: pointer;

    box-shadow: 0 6px 0 #c2185b;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
  }

  .pdf-form button:hover {
    transform: translateY(2px);
    box-shadow: 0 3px 0 #c2185b;
  }

  #height-result {
    margin-top: 14px;
    font-size: 14px;
    font-weight: bold;
    color: #c2185b;
  }
</style>
</head>

<body>
<div id="pdf-wrapper">

  <a href="https://ras-cal.com" class="back-arrow" aria-label="Back to ras-cal.com">‚Üê</a>

  <canvas id="pdf-canvas"></canvas>
  <div id="annotation-layer" class="annotationLayer"></div>

  <form class="pdf-form" id="height-form">
    <h1>POP QUIZ!</h1>
    <h3>are you taller than ras-cal?</h3>

    <div class="inputs">
      <input type="number" id="feet" min="0" placeholder="Feet" required>
      <input type="number" id="inches" min="0" max="11" placeholder="Inches" required>
    </div>

    <button type="submit">CHECK ‚ú®</button>

    <div id="height-result"></div>
  </form>

</div>

<script src="/pdf.min.js"></script>
<script>
pdfjsLib.GlobalWorkerOptions.workerSrc = '/pdf.worker.min.js';

const url = '/quiz/blank.pdf';
const canvas = document.getElementById('pdf-canvas');
const ctx = canvas.getContext('2d');
const annotationLayer = document.getElementById('annotation-layer');
const wrapper = document.getElementById('pdf-wrapper');

async function renderPDF() {
  const pdf = await pdfjsLib.getDocument(url).promise;
  const page = await pdf.getPage(1);

  const viewport = page.getViewport({ scale: 1 });
  const scale = Math.min(
    wrapper.clientWidth / viewport.width,
    wrapper.clientHeight / viewport.height
  );
  const scaled = page.getViewport({ scale });

  canvas.width = scaled.width;
  canvas.height = scaled.height;

  const left = (wrapper.clientWidth - scaled.width) / 2;
  const top = (wrapper.clientHeight - scaled.height) / 2;

  canvas.style.left = left + 'px';
  canvas.style.top = top + 'px';
  canvas.style.width = scaled.width + 'px';
  canvas.style.height = scaled.height + 'px';

  annotationLayer.style.width = scaled.width + 'px';
  annotationLayer.style.height = scaled.height + 'px';
  annotationLayer.style.left = left + 'px';
  annotationLayer.style.top = top + 'px';
  annotationLayer.innerHTML = '';

  await page.render({ canvasContext: ctx, viewport: scaled }).promise;
}

renderPDF();
window.addEventListener('resize', renderPDF);
window.addEventListener('orientationchange', renderPDF);

const form = document.getElementById('height-form');
const result = document.getElementById('height-result');

form.addEventListener('submit', e => {
  e.preventDefault();

  const feet = Number(document.getElementById('feet').value);
  const inches = Number(document.getElementById('inches').value);
  const total = feet * 12 + inches;
  const rasCal = 6 * 12 + 4;

  if (total > rasCal) {
    result.textContent = "you MIGHT be taller than ras-cal üëÄ";
  } else if (total < rasCal) {
    result.textContent = "you're short but it's okay, ras-cal is just freakishly tall üíñ";
  } else {
    result.textContent = "same height?? suspicious ü§®";
  }
});
</script>

</body>
</html>
